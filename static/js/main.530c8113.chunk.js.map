{"version":3,"sources":["blocks/header/images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","hooks/FormValidator.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/api.js","utils/utils.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","user","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","onCardClick","onCardDeleteClick","type","onCardLike","length","Main","avatar","isLoading","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","action","onSubmit","noValidate","onClose","title","children","disabled","isDisabled","buttonText","FormValidator","useState","values","setValues","errors","setErrors","isElementValid","setElementValid","resetFormInputs","useCallback","blankValues","blankErrors","defaultValidState","handleElementChange","e","value","validationMessage","closest","checkValidity","EditProfilePopup","useEffect","preventDefault","onUpdateUser","id","required","minLength","maxLength","onChange","ImagePopup","EditAvatarPopup","onUpdateAvatar","placeholder","AddPlacePopup","DeletePopup","onDeleteCard","selectedCard","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_getServerResponse","item","method","body","JSON","stringify","newCard","dislike","like","data","authorization","App","isEditAvatarPopupOpen","setEditAvatarState","isEditProfilePopupOpen","setEditProfileState","isAddPlacePopupOpen","setAddPlaceState","isImagePopupOpen","setImagePopupState","isDeletePopupOpen","setDeletePopupState","setSelectedCard","setCurrentUser","setCards","isAvatarLoading","setAvatarLoading","isUserInfoLoading","setUserInfoLoading","isButtonSubmitLoading","setButtonSubmitLoading","closeAllPopups","getUserInfo","catch","err","console","log","finally","getCards","Provider","changeLikeCardStatus","updateCard","updatedCards","c","updatedUserInfo","setUserInfo","newUserInfo","addCard","updatedAvatar","setAvatar","newAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.530c8113.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\n\nimport logo from '../blocks/header/images/header__logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a href=\".\" target=\"_top\">\n        <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\n      </a>\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(user => user._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `${isOwn? 'card__delete-button': 'card__delete-button card__delete-button_hidden'}`\n  )\n\n  const cardLikeButtonClassName = (\n    `${isLiked? 'card__like-button card__like-button_active': 'card__like-button'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  } \n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDeleteClick(props.card)\n  }\n\n  return (\n    <article className=\"card\">\n      <img src={props.card.link} className=\"card__image\" alt={props.card.name} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n      <div className=\"card__caption\">\n        <h2 className=\"card__name\">{props.card.name}</h2>\n        <div className=\"card__like-display\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          <p className=\"card__like-counter\" name=\"\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt={props.isLoading ? \"Загрузка...\" : `Аватар пользователя: ${currentUser.name}`}\n            className=\"profile__avatar\" />\n          <button className=\"profile__avatar-edit\" type=\"button\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{props.isLoading ? \"Загрузка...\" : currentUser.name}</h1>\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__caption\">{props.isLoading ? \"Загрузка...\" : currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"cards\">\n        {props.cards.map(card => (\n          <Card\n          key={card._id}\n          card={card}\n          onCardClick={props.onCardClick}\n          onCardLike={props.onCardLike}\n          onCardDeleteClick={props.onCardDeleteClick}\n          />\n        ))}\n      </section>\n    </main>\n  )\n\n}","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <article className={`popup popup_type_${props.name} ${props.isOpen?'popup_opened':''}`}>\n    <form action=\"#\" className=\"popup__container\" name={props.name} onSubmit={props.onSubmit} noValidate>\n      <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n      <h2 className=\"popup__caption\">{props.title}</h2>\n      {props.children}\n      <button disabled={props.isDisabled} className={!props.isDisabled ? \"popup__submit popup__submit_active\" : \"popup__submit\"} type=\"submit\">{props.isLoading ? \"Загрузка...\" : props.buttonText}</button>\n    </form>\n  </article>\n  )\n\n}\n\nexport default PopupWithForm;","import React from 'react'\n\nexport default function FormValidator() {\n\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isElementValid, setElementValid] = React.useState(false);\n\n  function handleElementChange(e) {\n    const target = e.target;\n    const name = e.target.name;\n    const value = e.target.value;\n\n    setValues({\n      ...values,\n      [name]: value,\n    })\n\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage,\n    })\n\n    setElementValid(target.closest('.popup__container').checkValidity());\n  }\n\n  const resetFormInputs = React.useCallback(\n    (blankValues = {}, blankErrors = {}, defaultValidState = false) => {\n      setValues(blankValues);\n      setErrors(blankErrors);\n      setElementValid(defaultValidState);\n    }, [setValues, setErrors, setElementValid]);\n\n    return {\n      values,\n      errors,\n      isElementValid,\n      handleElementChange,\n      resetFormInputs\n    };\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport FormValidator from '../hooks/FormValidator';\n\nexport default function EditProfilePopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = FormValidator({});\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser(values);\n  }\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetFormInputs(currentUser);\n    }\n  }, [currentUser, resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isElementValid}\n      isLoading={props.isLoading}\n    >\n      <input\n        type=\"text\"\n        className={errors.name ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"name-input\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={values.name || \"\"}\n        onChange={handleElementChange}\n      />\n\n      <span className={errors.name ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n        {errors.name}\n      </span>\n\n      <input\n        type=\"text\"\n        className={errors.about ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"caption-input\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={values.about || \"\"}\n        onChange={handleElementChange}\n      />\n\n      <span className={errors.about ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n          {errors.about}\n      </span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <article className={`popup popup_type_card-image ${props.isOpen?'popup_opened':''}`}>\n      <figure className=\"popup__image-container\">\n        <button className=\"popup__close popup__close_type_card-image\" type=\"button\" onClick={props.onClose}></button>\n        <img src={props.card.link} className=\"popup__image\" alt={props.card.name} />\n        <figcaption className=\"popup__figcaption\">{props.card.name}</figcaption>\n      </figure>\n    </article>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport FormValidator from '../hooks/FormValidator';\n\nexport default function EditAvatarPopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = FormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar(values)\n  }\n\n  React.useEffect(() => {\n      resetFormInputs();\n  }, [resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isElementValid}\n      isLoading={props.isLoading}\n    >\n        <input\n        type=\"url\"\n        placeholder=\"Ссылка на аватарку\"\n        className={errors.avatar ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"avatar-input\"\n        name=\"avatar\"\n        value={values.avatar || \"\"}\n        onChange={handleElementChange}\n        required\n        />\n\n        <span className={errors.avatar ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n          {errors.avatar}\n        </span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\nimport FormValidator from '../hooks/FormValidator';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = FormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace(values)\n  }\n\n  React.useEffect(() => {\n    resetFormInputs();\n}, [resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n          name=\"add\"\n          title=\"Новое место\"\n          buttonText=\"Сохранить\"\n          isOpen={props.isOpen}\n          onClose={props.onClose}\n          onSubmit={handleSubmit}\n          isDisabled={!isElementValid}\n          isLoading={props.isLoading}\n        >\n            <input\n            type=\"text\"\n            placeholder=\"Название\"\n            className={errors.name ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n            name=\"name\"\n            id=\"image-input\"\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={values.name || \"\"}\n            onChange={handleElementChange}\n            />\n\n            <span className={errors.name ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n              {errors.name}\n            </span>\n\n            <input\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            className={errors.link ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n            id=\"link-input\"\n            name=\"link\"\n            required\n            value={values.link || \"\"}\n            onChange={handleElementChange}\n            />\n\n            <span className={errors.link ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n              {errors.link}\n            </span>\n        </PopupWithForm>\n  )\n}","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm';\n\nexport default function DeletePopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onDeleteCard(props.selectedCard)\n  }\n\n  return(\n    <PopupWithForm\n          name=\"delete\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\" \n          isOpen={props.isOpen}\n          isLoading={props.isLoading}\n          onClose={props.onClose}\n          onSubmit={handleSubmit}\n          />\n  )\n}","import {serverUrl, serverToken} from './utils';\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  //метод получения ответа от сервера\n  _getServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Не удалось получить ответ от сервера. Ошибка ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n      .then(this._getServerResponse);\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  addCard(newCard) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    })\n      .then(this._getServerResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  like(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  dislike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  changeLikeCardStatus(isLiked, id) {\n    if(isLiked) {\n      return this.dislike(id);\n    } else {\n      return this.like(id);\n    }\n  }\n\n  setAvatar(data) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n      .then(this._getServerResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: serverUrl,\n  headers: {\n    authorization: serverToken,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","//Объявление переменных\nconst serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-21';//адрес сервера\nconst serverToken = 'c717fb8f-7e38-4c7d-b617-f552f6e3b5d3';//токен авторизации\n\nexport {serverUrl, serverToken};","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePopup from './DeletePopup';\nimport api from '../utils/api';\n\nexport default function App() {\n\n  const [isEditAvatarPopupOpen, setEditAvatarState] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfileState] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isDeletePopupOpen, setDeletePopupState] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isAvatarLoading, setAvatarLoading] = React.useState(false);\n  const [isUserInfoLoading, setUserInfoLoading] = React.useState(false);\n  const [isButtonSubmitLoading, setButtonSubmitLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    setUserInfoLoading(true);\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setUserInfoLoading(false);\n      })\n  }, [])\n\n  React.useEffect(() => {\n    api.getCards()\n    .then((data) => {\n      setCards(data);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  },[])\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupState(!isImagePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarState(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfileState(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlaceState(!isAddPlacePopupOpen);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarState(false);\n    setEditProfileState(false);\n    setAddPlaceState(false);\n    setImagePopupState(false);\n    setDeletePopupState(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(updatedUserInfo) {\n    setButtonSubmitLoading(true);\n    setUserInfoLoading(true);\n    api.setUserInfo(updatedUserInfo)\n      .then((newUserInfo) => {\n        setCurrentUser(newUserInfo);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setUserInfoLoading(false);\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleUpdateAvatar(updatedAvatar) {\n    setAvatarLoading(true);\n    setButtonSubmitLoading(true);\n    api.setAvatar(updatedAvatar)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setAvatarLoading(false);\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus(isLiked, card._id)\n      .then((updateCard) => {\n        const updatedCards = cards.map((c) => (c._id === card._id ? updateCard : c))\n        setCards(updatedCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    setButtonSubmitLoading(true);\n    api.deleteCard(card._id)\n      .then((updateCard) => {\n        const updatedCards = cards.filter((c) => (c._id === card._id ? '' : updateCard))\n        setCards(updatedCards)\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleAddPlace(card) {\n    setButtonSubmitLoading(true);\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleCardDeleteClick(card) {\n    setSelectedCard(card);\n    setDeletePopupState(true);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header />\n\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDeleteClick={handleCardDeleteClick}\n          cards={cards}\n          isAvatarLoading={isAvatarLoading}\n          isUserInfoLoading={isUserInfoLoading}\n        />\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isButtonSubmitLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isLoading={isButtonSubmitLoading}\n        />\n\n        <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isButtonSubmitLoading}\n        />\n\n        <DeletePopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n          isLoading={isButtonSubmitLoading}\n          selectedCard={selectedCard}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}